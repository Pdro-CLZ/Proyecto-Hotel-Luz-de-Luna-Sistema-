{% extends 'base.html' %}

{% block title %}Usuarios - Modificar{% endblock %}

{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Modificar Usuario - {{ usuario.username }}</title>
    <link rel="stylesheet" href="{% static 'administracion/css/styles.css' %}">
    
</head>

<body class="login-bg">
    <div class="login-container">
        <h2>Modificar Usuario: {{ usuario.username }}</h2>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <p class="{{ message.tags }}">{{ message }}</p>
            {% endfor %}
        </div>
        {% endif %}

        <form method="post" id="modificarForm">
    {% csrf_token %}
    {% for field in form %}
        <div class="form-field">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
                <div class="error">{{ field.errors|striptags }}</div>
            {% endif %}
        </div>
    {% endfor %}
    <div style="display: flex; gap: 15px; margin-top: 20px;">
        <button type="submit" id="guardarBtn" class="boton-verde">Guardar cambios</button>
        <a href="{% url 'dashboard_admin' %}" class="boton-verde">Volver</a>
    </div>
</form>
    </div>

    <script>
        const form = document.getElementById("modificarForm");
        const button = document.getElementById("guardarBtn");

        form.addEventListener("input", () => {
            button.disabled = !form.checkValidity();
        });
        // Inicialmente el botón estará habilitado solo si el formulario es válido
        button.disabled = !form.checkValidity();
    </script>
    <script>
        function ajustarZoom() {
            const container = document.querySelector('.login-container');
            const ancho = window.innerWidth;

            if (ancho <= 600) {
                container.style.width = '100%';
                container.style.height = '100vh';
                container.style.padding = '30px';
                container.style.fontSize = '1.2em';
                container.style.overflowY = 'auto';
                container.style.borderRadius = '0';
                container.style.margin = '0';
            } else if (ancho <= 900) {
                container.style.width = '90%';
                container.style.height = 'auto';
                container.style.padding = '40px 50px';
                container.style.fontSize = '1em';
                container.style.overflowY = 'visible';
                container.style.borderRadius = '18px';
                container.style.margin = '20px auto';
            } else {
                container.style.width = '90%';
                container.style.maxWidth = '600px';
                container.style.height = 'auto';
                container.style.padding = '40px 50px';
                container.style.fontSize = '1em';
                container.style.overflowY = 'visible';
                container.style.borderRadius = '18px';
                container.style.margin = '20px auto';
            }
        }

        window.addEventListener('load', ajustarZoom);
        window.addEventListener('resize', ajustarZoom);
    </script>


</body>

</html>
{% endblock %}