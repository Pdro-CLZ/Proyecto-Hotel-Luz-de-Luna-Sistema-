{% extends 'base.html' %}
{% block title %}Contabilidad{% endblock %}

{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registrar Gasto - Contabilidad</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="login-bg">
  <div class="login-container">
    <h2>Registrar Gasto</h2>

    <!-- MENSAJES - Igual que agregar_ingreso -->
    {% if messages %}
    <div class="messages">
      {% for message in messages %}
      <p class="{{ message.tags }}">{{ message }}</p>
      {% endfor %}
    </div>
    {% endif %}

    <form method="POST" id="agregarGastoForm">
      {% csrf_token %}
      
      <div>
        <!-- Fecha -->
        <div class="form-field">
          <label for="fecha">Fecha</label>
          <input type="date" name="fecha" id="fecha" required class="form-control">
        </div>

        <!-- Método de Pago -->
        <div class="form-field">
          <label for="metodo_pago">Método de Pago</label>
          <select name="metodo_pago" id="metodo_pago" required class="form-control">
            <option value="">Seleccione</option>
            <option value="Efectivo">Efectivo</option>
            <option value="Tarjeta">Tarjeta</option>
            <option value="Sinpe">Sinpe</option>
            <option value="Transferencia">Transferencia</option>
          </select>
        </div>

        <!-- Categoría -->
        <div class="form-field">
          <label for="categoria">Categoría</label>
          <select name="categoria" id="categoria" required class="form-control">
            <option value="Alimentos">Alimentos</option>
            <option value="Suministros">Suministros</option>
            <option value="Nómina">Nómina</option>
            <option value="Servicios básicos">Servicios básicos</option>
            <option value="Mantenimiento">Mantenimiento</option>
            <option value="Marketing">Marketing</option>
            <option value="Gastos administrativos">Gastos administrativos</option>
            <option value="Otros">Otros</option>
          </select>
        </div>

        <!-- Descripción -->
        <div class="form-field">
          <label for="descripcion">Descripción</label>
          <input type="text" name="descripcion" id="descripcion" 
                 placeholder="Ejemplo: Compra de suministros" required class="form-control">
        </div>

        <!-- Monto -->
        <div class="form-field">
          <label for="monto">Monto</label>
          <input type="number" name="monto" id="monto" step="0.01" min="0" 
                 placeholder="$0.00" required class="form-control">
        </div>
      </div>

      <div style="margin-top: 30px; display: flex; gap: 20px; justify-content: center;">
        <button type="submit" class="boton-verde">Guardar Gasto</button>
        <a href="{% url 'contabilidad_panel' %}" class="boton-volver">Cancelar</a>
      </div>
    </form>
  </div>
</body>
</html>
{% endblock %}